# DB設計視覚化ガイド

## dbdiagram.ioでのER図作成手順

### 1. アクセス方法
1. ブラウザで https://dbdiagram.io/d にアクセス
2. 「Try in Browser」をクリック（アカウント登録なしで使用可能）

### 2. ER図の作成
1. 左側のエディタエリアの内容をすべて削除
2. `03_DB設計_dbdiagram.dbml`ファイルの内容をコピー
3. エディタエリアにペースト
4. 右側に自動的にER図が生成される

### 3. 図の調整
- テーブルをドラッグして配置を調整
- ズームイン/アウトで全体を確認
- テーブルグループごとに色分けされる

### 4. エクスポート方法

#### 画像として保存
1. 右上の「Export」ボタンをクリック
2. 「Export to Image」を選択
3. PNG形式でダウンロード

#### PDFとして保存
1. 右上の「Export」ボタンをクリック
2. 「Export to PDF」を選択

#### 共有リンクの生成
1. 右上の「Share」ボタンをクリック
2. 「Create sharable link」を選択
3. 生成されたURLを共有

### 5. SQLスクリプトの生成
1. 右上の「Export」ボタンをクリック
2. 「Export to PostgreSQL」を選択
3. CREATE TABLE文が自動生成される

## その他の推奨事項

### バージョン管理
- DBMLファイルをGitで管理
- 変更履歴を追跡可能
- プルリクエストでレビュー

### ドキュメント連携
- 生成した画像を`docs/images/`フォルダに保存
- README.mdやDB設計書.mdから参照

### 定期的な更新
- DB構造変更時はDBMLファイルを更新
- ER図を再生成してドキュメントも更新

## 便利な機能

### テーブルグループ
```
TableGroup user_management {
  users
  roles
  user_roles
}
```
関連するテーブルをグループ化して色分け表示

### リレーションシップの種類
- `>` : Many to One
- `<` : One to Many
- `-` : One to One
- `<>` : Many to Many

### インデックスの可視化
インデックスが設定されているカラムには鍵アイコンが表示

### ノート機能
`note: "説明文"` でカラムの説明を追加可能